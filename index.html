<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>年賀AR</title>

  <!-- A-Frame + AR.js -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  <style>
    html, body { margin: 0; height: 100%; overflow: hidden; background: #000; }
    .ui {
      position: fixed; left: 0; right: 0; top: 0;
      padding: 10px 12px;
      background: rgba(0,0,0,0.55);
      color: #fff;
      font: 14px/1.4 system-ui, -apple-system, "Segoe UI", sans-serif;
      z-index: 10;
    }
    .ui b { font-weight: 700; }
  </style>
</head>

<body>
  <div class="ui">
    <b>使い方：</b>カメラを許可 → <b>Hiroマーカー</b>にかざしてください
  </div>

  <!--
    ポイント
    - vr-mode-ui無効化（余計な表示や挙動を減らす）
    - embedded（スマホでの安定性）
    - arjsのdebugUI無効化
  -->
  <a-scene
    vr-mode-ui="enabled: false"
    embedded
    renderer="colorManagement: true"
    arjs="sourceType: webcam; debugUIEnabled: false;"
  >
    <!--
      カメラのズーム感（画角）を安定させるため fov を指定
      目安：60（無難）
      ズーム強い→70、ズーム弱い→50
    -->
    <a-entity camera="fov: 50"></a-entity>

    <!-- Hiroマーカー -->
    <a-marker preset="hiro">

      <!--
        傾き対策の本命：rotation="-90 0 0"
        これで「マーカー面にぴったり寝る」配置になりやすい
      -->
      <a-image
        src="overlay.png"
        position="0 0 0"
        rotation="-90 0 0"
        width="1.4"
        height="1.4"
        transparent="true"
        alpha-test="0.1"
      ></a-image>

    </a-marker>

    <!-- マーカーを見失ったときにも安定させる -->
    <a-entity light="type: ambient; intensity: 0.8"></a-entity>

  </a-scene>
</body>
</html>

